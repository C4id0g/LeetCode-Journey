# 9. [回文数](https://leetcode.cn/problems/palindrome-number/)

**难度**: 简单

## 相关标签
- 相关企业

## 提示
给你一个整数 `x`，如果 `x` 是一个回文整数，返回 `true`；否则，返回 `false`。

**回文数** 是指正序（从左向右）和倒序（从右向左）读都是一样的整数。

例如，`121` 是回文，而 `123` 不是。

---

### 示例 1：

**输入**: `x = 121`  
**输出**: `true`

---

### 示例 2：

**输入**: `x = -121`  
**输出**: `false`  
**解释**: 从左向右读为 `-121`，从右向左读为 `121-`，因此它不是一个回文数。

---

### 示例 3：

**输入**: `x = 10`  
**输出**: `false`  
**解释**: 从右向左读为 `01`，因此它不是一个回文数。

---

### 提示：
- `-2^31 <= x <= 2^31 - 1`



**题解：**

首先，我们可以确定以下几点：
1. 如果 `x` 小于 0（带负号），那么它一定不是回文数。
2. 如果 `x` 是 0 到 9 之间的单个数字，它一定是回文数。

接下来，最简单的方式是将整数 `x` 的每一位提取并存储在数组中，然后从数组的两端向中间逐步比较，判断是否相等。这个方法的时间复杂度为 O(N)，其中 N 是数字的位数。

### 进阶思路：
1. **负数直接排除**：首先，任何负数都不是回文数，因为负号无法出现在数字末尾。
2. **末尾为零的非零数排除**：如果一个数的最后一位是零，且这个数不是 0，那么它不可能是回文数（例如 `10`）。
3. **反转数字的一半**：通过逐位提取 `x` 的后半部分，反转并与前半部分比较。我们只需反转一半的数字，而不需要将整个数字反转。这样可以在减少运算量的同时避免使用额外的字符串操作。

### 详细步骤：
1. 反转 `x` 的后半部分。
2. 当 `x` 小于或等于反转后的数字时，说明我们已经处理了一半的数字。
3. 如果数字长度是偶数，反转后的数字应该与原数字的前半部分相等；如果是奇数，去掉反转后的数字的最后一位，再进行比较。

### 代码实现：

```python
class Solution:
    def isPalindrome(self, x: int) -> bool:
        # 负数不是回文数
        if x < 0:
            return False
        
        # 如果最后一位是0且x不为0，也不是回文数
        if x % 10 == 0 and x != 0:
            return False
        
        reversed_half = 0
        while x > reversed_half:
            # 取出x的最后一位加到reversed_half
            reversed_half = reversed_half * 10 + x % 10
            x //= 10
        
        # 如果x是偶数位，比较x和reversed_half
        # 如果x是奇数位，比较x和reversed_half去掉最后一位（中间数不影响判断回文）
        return x == reversed_half or x == reversed_half // 10
```

### 解释：
1. **负数检查**：如果 `x` 是负数，直接返回 `False`。
2. **末尾为零的特殊情况**：如果数字 `x` 的最后一位是 `0` 且 `x` 不为 `0`，那么它不可能是回文数，直接返回 `False`。
3. **反转数字的一半**：我们逐位提取 `x` 的末尾数字并将其加到 `reversed_half` 中，同时将 `x` 缩小十倍。当 `x` 小于或等于 `reversed_half` 时，意味着我们已经反转了一半的数字。
4. **比较前半和后半**：我们有两种情况：
   - 如果数字位数是偶数，那么反转后的数字应该与剩下的 `x` 完全相等。
   - 如果数字位数是奇数，我们需要去掉 `reversed_half` 的最后一位（因为中间那位数字不影响回文结果）。

### 优化点：
- **时间复杂度**：O(log N)，其中 N 是数字 `x`，因为我们只需要处理一半的数字。
- **空间复杂度**：O(1)，只使用了常数空间来存储 `reversed_half` 和 `x`。